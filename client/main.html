<head>
  <title>myApp</title>
</head>

<body>
<nav>
  <div class="container">
    {{> loginButtons}}
  </div>
</nav>
<div class="container">
  <h1>Welcome to Meteor! {{username}}</h1>

  {{> add_image}}

  {{> images}}
  
</div>
</body>

<template name="rating">
  <div class="ui rating js-rating"  id="{{_id}}" data-rating="{{rate}}"></div>
</template>

<template name="add_image">
  <div class="modal fade" id="add_image" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <div class="modal-title">Add Image</div>
        </div>
        <div class="modal-body">
          <form class="js-add-img">
            <input type="text" name="image_src" required="required"><br/>
            <input type="text" name="image_alt"><br/>
            <button class="btn">Add Image</button>
          </form>
        </div>
        <div class="modal-footer">
          <button class="btn  btn-warning" data-dismiss="modal">Cancel</button> 
        </div>
      </div>
    </div>
  </div>
</template>

<template name="images">
{{#if currentUser}}

  <button class="btn btn-success js-show-modal">Add Image</button>
  {{/if}}
  <div class="row">
    {{#each images}}
      <div class="col-xs-6 col-md-4 col-lg-3" id="{{_id}}">
        <div href="#" class="thumbnail">
          <img class="js-image thumbnail-img" src="{{img_src}}" alt="{{img_alt}}">
          <div class="caption">
          <h2>Rating {{rating}}</h2>
          <p>Description : {{img_alt}}</p>
          <p> Date : {{createdOn}}</p>
          <p> Created By : <a href="" class="js-get-images" >{{getUser createdBy}}</a></p>

          {{> rating }}
          <br />
          <button class="js-delete-btn btn">Delete</button>
          </div>
        </div>
      </div>
    {{/each}}
  </div>

</template>

